{%extends 'layout.njk'%}

{%block content%}
<br>
<br>
<h1>Registrar novo Funcionário</h1>
<form action="/employee" method="POST" enctype="multipart/form-data">
    <div class="row">
        <div class="form-group col-md-6">
            <label for="photo">Foto do funcionário</label>
            <input type="file" class="form-control-file" id="photos" name="photos" onchange="imagePreview()">

            <div class="col">
                <img width="250" height="250" id="preview">
            </div>
        </div>
        <div class="form-group col-md-6">
            <label for="name">Nome completo</label>
            <input class="form-control" type="text" name="name" id="name">

            <label for="rg">RG</label>
            <input class="form-control" type="text" name="rg" id="rg">

            <label for="name">CPF</label>
            <input class="form-control" type="text" name="cpf" id="cpf">

            <label for="name">Telefone</label>
            <input class="form-control" type="text" name="phone" id="phone">

            <label for="name">Email</label>
            <input class="form-control" type="email" name="email" id="email">

            <label for="name">Data de nascimento</label>
            <input class="form-control" type="date" name="birth" id="birth">
        </div>
    </div>
</form>

<script>
    function imagePreview() {
        let photo = document.querySelector('input[name=photos]').files[0]
        let preview = document.querySelector('img')

        let reader = new FileReader()
        reader.onloadend = function() {
            preview.src = reader.result
        }

        reader.readAsDataURL(photo)
    }
</script>
{%endblock content%}